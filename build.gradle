apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'application'
apply plugin: 'maven'

buildscript {
    repositories {
        gradlePluginPortal()
    }
    dependencies {
        classpath "gradle.plugin.net.minecrell:licenser:0.4.1"
    }
}

repositories {
    mavenCentral()
}

group = 'pl.asie'
archivesBaseName = 'modalyze'
mainClassName = 'pl.asie.modalyze.Main'
version = "0.0.1"

sourceSets {
    main {
        java {
            srcDir 'src'
        }
    }
}

jar {
    from { [configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }, 'src'] }
    exclude '**/*.java'

    manifest {
        attributes 'Main-Class': mainClassName
    }
}

apply plugin: net.minecrell.gradle.licenser.Licenser

license {
    header file('HEADER')
    include '**/*.java'
}

dependencies {
    compile 'org.ow2.asm:asm:7.1'
    compile 'org.ow2.asm:asm-commons:7.1'
    compile 'org.ow2.asm:asm-tree:7.1'
    compile 'org.ow2.asm:asm-util:7.1'
    compile 'com.google.code.gson:gson:2.8.5'
    compile 'commons-io:commons-io:2.6'
    compile 'commons-codec:commons-codec:1.13'
    compile 'com.beust:jcommander:1.72'
}
